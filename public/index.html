<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenClaw Governor â€” Power Level Control</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="bg-gradient"></div>

  <header class="header">
    <div class="header-left">
      <span class="logo">ğŸ¦ OpenClaw <span>Governor</span></span>
    </div>
    <div class="header-right">
      <span id="config-status" class="budget-pill">Loading...</span>
    </div>
  </header>

  <main class="main">
    
    <section class="section">
      <h2 class="section-title">âš¡ Power Level Control</h2>
      <p class="section-sub">It's over 9000! Control maxTokens, temperature, and reasoning for your OpenClaw Opus agent.</p>
    </section>

    <!-- Status Cards -->
    <section class="stat-cards">
      <div class="stat-card">
        <div class="stat-label">Active maxTokens</div>
        <div class="stat-value" id="gov-active-tokens">â€”</div>
        <div class="stat-sub" id="gov-active-level">â€”</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Mode</div>
        <div class="stat-value" id="gov-mode-display">â€”</div>
        <div class="stat-sub" id="gov-mode-sub">â€”</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Reserve Floor</div>
        <div class="stat-value" id="gov-reserve">â€”</div>
        <div class="stat-sub">Context before compaction</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Temperature</div>
        <div class="stat-value" id="gov-temp">â€”</div>
        <div class="stat-sub" id="gov-temp-mode">Lower = precise, Higher = creative</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Reasoning</div>
        <div class="stat-value" id="gov-reasoning-status">â€”</div>
        <div class="stat-sub" id="gov-reasoning-sub">â€”</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Last Updated</div>
        <div class="stat-value" id="gov-updated">â€”</div>
        <div class="stat-sub" id="gov-updated-sub">â€”</div>
      </div>
    </section>

    <!-- Controls -->
    <section class="section gov-controls">
      <h3>Power Level</h3>
      <div class="gov-slider-row">
        <div class="gov-presets">
          <button class="gov-preset" data-level="low" data-tokens="4096">ğŸŸ¢ Krillin<br><small>4K</small></button>
          <button class="gov-preset" data-level="medium" data-tokens="8192">ğŸ”µ Vegeta<br><small>8K</small></button>
          <button class="gov-preset" data-level="high" data-tokens="16384">ğŸŸ¡ Super Saiyan<br><small>16K</small></button>
          <button class="gov-preset" data-level="ssg" data-tokens="32768">ğŸŸ  SS God<br><small>32K</small></button>
          <button class="gov-preset" data-level="ssb" data-tokens="65536">ğŸ’  SS Blue<br><small>64K</small></button>
          <button class="gov-preset" data-level="max" data-tokens="128000">ğŸ”´ Ultra Instinct<br><small>128K</small></button>
        </div>
        <div class="gov-custom">
          <label>Custom: <input type="range" id="gov-slider" min="4096" max="131072" step="1024" value="16384"></label>
          <span id="gov-slider-value">16,384</span>
        </div>
      </div>

      <h3>Task Presets <span class="section-sub">One-click combos</span></h3>
      <div class="gov-task-presets">
        <button class="gov-task-preset" data-preset="code">ğŸ’» Code<br><small>8K / 0.3</small></button>
        <button class="gov-task-preset" data-preset="creativity">ğŸ¨ Creative<br><small>16K / ğŸ§  12K</small></button>
        <button class="gov-task-preset" data-preset="pm">ğŸ“‹ PM<br><small>4K / 0.5</small></button>
        <button class="gov-task-preset" data-preset="planning">ğŸ—ï¸ Planning<br><small>32K / ğŸ§  10K</small></button>
        <button class="gov-task-preset" data-preset="brainstorm">ğŸ’¡ Brainstorm<br><small>16K / ğŸ§  15K</small></button>
        <button class="gov-task-preset" data-preset="debug">ğŸ› Debug<br><small>64K / ğŸ§  20K</small></button>
      </div>

      <h3>Mode</h3>
      <div class="gov-mode-toggle">
        <label><input type="radio" name="gov-mode" value="manual" checked> Manual â€” you control the power level</label>
        <label><input type="radio" name="gov-mode" value="auto"> Auto â€” time-of-day schedule applies</label>
      </div>

      <h3>Time Schedule <span class="section-sub">(auto mode only)</span></h3>
      <div class="gov-schedule" id="gov-schedule">
        <div class="gov-schedule-bar" id="gov-schedule-bar"></div>
        <div class="gov-schedule-slots" id="gov-schedule-slots"></div>
      </div>

      <h3>Performance Knobs</h3>
      <div class="gov-knobs">
        <label>Reserve Tokens Floor: <input type="number" id="gov-reserve-input" min="5000" max="100000" step="5000" value="20000"></label>
      </div>
      <div class="gov-knobs" style="margin-top: 12px">
        <div style="width: 100%">
          <div class="gov-temp-presets">
            <button class="gov-temp-preset" data-temp="0.3">ğŸ¥‹ Chi-Chi<br><small>0.3 â€” Focused</small></button>
            <button class="gov-temp-preset" data-temp="0.5">ğŸ“š Gohan<br><small>0.5 â€” Balanced</small></button>
            <button class="gov-temp-preset" data-temp="1.0">ğŸ’¥ Broly<br><small>1.0 â€” Creative</small></button>
          </div>
          <div style="display: flex; align-items: center; gap: 8px; margin-top: 8px">
            <span style="color: #aaa; font-size: 13px">Temperature:</span>
            <input type="range" id="gov-temp-slider" min="0" max="1" step="0.05" value="0.5">
            <span id="gov-temp-value">0.5</span>
          </div>
        </div>
      </div>

      <div class="gov-knobs gov-reasoning-section" style="margin-top: 16px">
        <div style="width: 100%">
          <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px">
            <span style="color: #aaa; font-size: 13px">ğŸ§  Reasoning (Extended Thinking):</span>
            <label class="gov-toggle-switch">
              <input type="checkbox" id="gov-reasoning-toggle">
              <span class="gov-toggle-slider"></span>
            </label>
            <span id="gov-reasoning-label" style="font-size: 12px; color: #888">OFF</span>
          </div>
          <div id="gov-budget-row" style="display: none; align-items: center; gap: 8px; margin-top: 8px">
            <span style="color: #aaa; font-size: 13px">Budget Tokens:</span>
            <input type="range" id="gov-budget-slider" min="5000" max="65536" step="1000" value="10000">
            <span id="gov-budget-value" style="font-family: 'Space Grotesk', monospace; font-size: 14px; color: #7c5cff; min-width: 50px">10,000</span>
          </div>
          <div id="gov-reasoning-note" style="display: none; font-size: 11px; color: #ff6347; margin-top: 4px">
            âš ï¸ Temperature locked to 1.0 when reasoning is enabled (Anthropic API requirement)
          </div>
        </div>
      </div>

      <div class="gov-actions">
        <button class="btn-primary" id="gov-save">ğŸ’¾ Save & Apply</button>
        <span id="gov-save-status"></span>
      </div>
    </section>

  </main>

  <footer class="footer">
    <span id="last-updated">OpenClaw Governor v1.0</span>
    <span><a href="https://github.com/akivasolutions/openclaw-governor" target="_blank" style="color: var(--accent); text-decoration: none;">GitHub</a></span>
    <span><a href="docs/POWER-LEVELS.md" target="_blank" style="color: var(--accent-2); text-decoration: none;">Power Levels Guide</a></span>
  </footer>

  <script src="app.js"></script>
</body>
</html>
